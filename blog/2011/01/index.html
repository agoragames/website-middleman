<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta content="width=device-width" name="viewport"><title>Brain Matters</title><link href="/assets/images/favicon.ico" rel="shortcut icon"><link href="/assets/stylesheets/all-4a628d10.css" media="all" rel="stylesheet" type="text/css" /><!--[if lt IE 9]><script src="/assets/javascripts/vendor/html5shiv-8b3747c5.js" type="text/javascript"></script><![endif]--></head><body><div class="outer-wrap"><div class="inner-wrap"><div class="wrap"><header class="clearfix" id="page"><a href="/"><img alt="Agora Games" id="logo" src="/assets/images/agora-games-logo-be83adf8.png"></a><nav><ul><li><a href="https://hydra.agoragames.com/">Products</a></li><li><a href="/portfolio/">Customers</a></li><li><a href="/us/">Team</a></li><li><a href="/community/">Community</a></li><li><a href="/work-at-agora/">Jobs</a></li><li><a href="/blog/">Blog</a></li></ul></nav></header></div><div class="wrap"><article class="clearfix"><header><h1>January 2011</h1></header><section id="blog-entries"><div class="blog-entry"><div class="date-comments"><div class="date">Jan 14</div></div><div class="blog-content"><h2><a href="/blog/2011/01/14/brightcoveapi-newhome-brightcoveos/">Brightcove::API.new(:home => BrightcoveOS)</a></h2><div class="blog-author">By <strong>David Czarnecki</strong></div><div class="blog-body"><p>I am pleased to announce the <a href="https://github.com/BrightcoveOS/Ruby-MAPI-Wrapper">brightcove-api gem</a> that I maintain has a new home at the <a href="http://opensource.brightcove.com/">Brightcove Open Source portal</a>.</p>

<p>In June 2010, I wrote the brightcove-api gem to interact with the <a href="http://www.brightcove.com/en/">Brightcove</a> media APIs. We've used it to build sites like <a href="http://tv.majorleaguegaming.com/">MLG.tv</a>. Last night I attended the NY Brightcove User's Group meeting and found out about their <a href="http://opensource.brightcove.com/">Brightcove Open Source portal</a>. So, I wrote to the good folks behind the Open Source @ Brightcove effort to get the brightcove-api gem added to their third party projects. They offered me door #2 and a chance to make it the officially "official" library for interacting with the Brightcove Media API from Ruby.</p>

<p>And so here we are, the brightcove-api gem now lives alongside the other open source libraries for interacting with Brightcove. I'll still be the maintainer of the library and since it's open source, you can and always will be able to contribute to its continued development.</p>

<p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p>
</div></div></div><div class="blog-entry"><div class="date-comments"><div class="date">Jan 11</div></div><div class="blog-content"><h2><a href="/blog/2011/01/11/thumbs-up/">Thumbs Up</a></h2><div class="blog-author">By <strong>David Czarnecki</strong></div><div class="blog-body"><p>In the process of investigating the potential use of the <a href="https://github.com/brady8/thumbs_up">thumbs_up gem</a> (enable voting in your Rails 3 application) on a project today, I came across 2 opportunities to contribute back to the project.</p>

<p>Those opportunities are now realities in that: I forked the project on GitHub, made my changes, and <a href="https://github.com/brady8/thumbs_up/pull/7">generated a pull request</a> for those changes to be integrated back into the thumbs_up project. So, what did I change?</p>

<ul>
  <li>
    <p>My first commit was a simple change to the documentation clarifying the use of one method. No brainer right?</p>
  </li>
  <li>
    <p>My second commit was a bit more involved and wasn't necessarily a change I thought had to be there, but might be nice to be included. It involved getting into some of the internals in how the database migration and model file are generated. If this commit isn't integrated, I won't lose any sleep over it. It was a great opportunity to learn about some of the internals of <a href="http://edgeguides.rubyonrails.org/generators.html">Rails 3 generators</a> and <a href="https://github.com/wycats/thor">Thor</a>. I'm not going to lie in that before all was said and done, I wanted to shoot myself into the sun on a rocketship, but I'm over it now.</p>
  </li>
</ul>

<p>Why am I writing this blog post? It just gives me a warm and fuzzy feeling (apart from the scotch), to know that I can contribute my day-to-day work back to the development community for others to benefit. So, thumbs up to that right?</p>

<p><strong>UPDATE:</strong> My changes (that now encompass the start of a test suite, have now been integrated into the thumbs_up gem. So d ' _ ' b to open source!</p>

<p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p>
</div></div></div><div class="blog-entry"><div class="date-comments"><div class="date">Jan 5</div></div><div class="blog-content"><h2><a href="/blog/2011/01/05/follow-the-leader/">Follow The Leader - Leaderboards with Ruby/Redis</a></h2><div class="blog-author">By <strong>David Czarnecki1</strong></div><div class="blog-body"><p>Leaderboard: A board showing the ranking of leaders in a competition.</p>

<p>Do you need to create leaderboards for your application? Do you use <a href="http://redis.io/">Redis</a>? Do you use <a href="http://www.ruby-lang.org/en/">Ruby</a>? If you've answered yes to any or all of these questions, you might want to take a look at the <a href="https://github.com/agoragames/leaderboard">leaderboard gem</a> I am releasing today.</p>

<p>At Agora Games, one of the things we think a lot about is leaderboards. As they're a small, but important part of the work we do, I’m looking for ways to improve leaderboard generation for various situations. This effort was really the logical next step to my blog post, <a href="http://blog.agoragames.com/2011/01/01/creating-high-score-tables-leaderboards-using-redis/">Creating high score tables (leaderboards) using Redis</a>. All of the information you'd probably be interested in as a developer in terms of working with the gem can be found on the <a href="https://github.com/agoragames/leaderboard">leaderboard gem</a> page. Here's a quick rundown of some of the gem's capabilities:</p>

<ul>
  <li>
    <p>Attach to a new or existing leaderboard</p>
  </li>
  <li>
    <p>Add and remove members from a leaderboard</p>
  </li>
  <li>
    <p>Return information about a leaderboard such as total members, total pages</p>
  </li>
  <li>
    <p>Return information about a member in the leaderboard such as their rank or score</p>
  </li>
  <li>
    <p>Update score information about a member in the leaderboard</p>
  </li>
  <li>
    <p>Retrieve the leaders from a leaderboard with ability to page within the leaderboard</p>
  </li>
  <li>
    <p>Retrieve the leaders around a given member in a leaderboard, also known as an "Around Me" leaderboard</p>
  </li>
  <li>
    <p>Retrieve information for an arbitrary list of members in a leaderboard, e.g. How do my friends compare against me?</p>
  </li>
</ul>

<p>I believe that this covers most of the interaction you might have with a leaderboard. But, if not, this code is open source, so feel free to contribute to its development.</p>

<p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p>
</div></div></div><div class="blog-entry"><div class="date-comments"><div class="date">Jan 2</div></div><div class="blog-content"><h2><a href="/blog/2011/01/02/creating-high-score-tables-leaderboards-using-redis-2/">Creating high score tables (leaderboards) using Redis</a></h2><div class="blog-author">By <strong>David Czarnecki</strong></div><div class="blog-body"><p>To my other colleagues at Agora Games, I have one word: FIRST!</p>

<table>
  <tbody>
    <tr>
      <td>Now that I've got that out of my system, down to the business at hand. I've read a number of articles on <a href="http://redis.io/">Redis</a> that mention how it could be used for high score tables (leaderboards), but I didn't see any examples that would walk you through exactly how to do that. Time to rectify that since it's 2011 and we still don't have flying cars … so ,,</td>
      <td>, future.</td>
    </tr>
  </tbody>
</table>

<p><strong>UPDATE: Please use the <a href="../2011/01/01/creating-high-score-tables-leaderboards-using-redis/">original post for any comments/feedback</a>. This post is a placeholder.</strong></p>

<p><strong>UPDATE:</strong> All of this has been packaged up in the <a href="https://github.com/agoragames/leaderboard">leaderboard gem on GitHub</a>.</p>

<p>Leaderboards are a small, but important part of the engineering we do at Agora Games. As such, <a href="http://twitter.com/CzarneckiD/status/21081627241226241">when not riding the short bus</a>, I'm looking for ways to improve leaderboard generation for various situations. So, here's how I might approach creating leaderboards using Redis.</p>

<p>I offer the following gist. Here's the jist of the gist:</p>

<ul>
  <li>
    <p>The following was prototyped using the redis CLI. You can obviously port the logic to your favorite language binding for Redis, *cough* Ruby *cough*.</p>
  </li>
  <li>
    <p>You will be using the <a href="http://redis.io/commands#sorted_set">Sorted Set</a> commands in Redis.</p>
  </li>
  <li>
    <p>You will need to be running at least Redis 2.1.6 to use the ZREVRANGEBYSCORE method.</p>
  </li>
  <li>
    <p>Add players to the HIGHSCORES "table" using the ZADD method.</p>
  </li>
  <li>
    <p>Print out the players (with a given page size) from the HIGHSCORES "table" using the ZREVRANGEBYSCORE method to show scores from highest to lowest.</p>
  </li>
  <li>
    <p>There is some bookkeeping code that you would do at the application level in terms of tracking what page you are on, dividing the total # of leaderboard entries into pages for a given page size, etc.</p>
  </li>
  <li>
    <p>Create an "Around Me" leaderboard with scores of individuals above and below an individual player using a combination of the ZREVRANK and ZREVRANGEBYSCORE methods.</p>
  </li>
  <li>
    <p>Again, there is some bookkeeping code that you would do at the application level in terms of tracking how many players above or below to show and taking into account offsets.</p>
  </li>
  <li>
    <p>The data that you store for a given player could be richer than just the player name or player ID. This is probably a larger design consideration if you are considering the "Around Me" leaderboard situation.</p>
  </li>
</ul>

<p>{% gist 762065 %}</p>

<p><strong>UPDATE: 1/3/2011:</strong> I updated the gist to do the "Around Me" leaderboard in 2 calls.</p>

<p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p>
</div></div></div><div class="blog-entry"><div class="date-comments"><div class="date">Jan 1</div></div><div class="blog-content"><h2><a href="/blog/2011/01/01/creating-high-score-tables-leaderboards-using-redis/">Creating high score tables (leaderboards) using Redis</a></h2><div class="blog-author">By <strong>David Czarnecki</strong></div><div class="blog-body"><p>To my other colleagues at Agora Games, I have one word: FIRST!</p>

<table>
  <tbody>
    <tr>
      <td>Now that I've got that out of my system, down to the business at hand. I've read a number of articles on <a href="http://redis.io">Redis</a> that mention how it could be used for high score tables (leaderboards), but I didn't see any examples that would walk you through exactly how to do that. Time to rectify that since it's 2011 and we still don't have flying cars … so ,,</td>
      <td>, future.</td>
    </tr>
  </tbody>
</table>

<p><strong>UPDATE:</strong> All of this has been packaged up in the <a href="https://github.com/agoragames/leaderboard">leaderboard gem on GitHub</a>.</p>

<p>Leaderboards are a small, but important part of the engineering we do at Agora Games. As such, <a href="http://twitter.com/CzarneckiD/status/21081627241226241">when not riding the short bus</a>, I'm looking for ways to improve leaderboard generation for various situations. So, here's how I might approach creating leaderboards using Redis.</p>

<p>I offer the following gist. Here's the jist of the gist:</p>

<ul>
  <li>
    <p>The following was prototyped using the redis CLI. You can obviously port the logic to your favorite language binding for Redis, *cough* Ruby *cough*.</p>
  </li>
  <li>
    <p>You will be using the <a href="http://redis.io/commands#sorted_set">Sorted Set</a> commands in Redis.</p>
  </li>
  <li>
    <p>You will need to be running at least Redis 2.1.6 to use the ZREVRANGEBYSCORE method.</p>
  </li>
  <li>
    <p>Add players to the HIGHSCORES "table" using the ZADD method.</p>
  </li>
  <li>
    <p>Print out the players (with a given page size) from the HIGHSCORES "table" using the ZREVRANGEBYSCORE method to show scores from highest to lowest.</p>
  </li>
  <li>
    <p>There is some bookkeeping code that you would do at the application level in terms of tracking what page you are on, dividing the total # of leaderboard entries into pages for a given page size, etc.</p>
  </li>
  <li>
    <p>Create an "Around Me" leaderboard with scores of individuals above and below an individual player using a combination of the ZREVRANK and ZREVRANGEBYSCORE methods.</p>
  </li>
  <li>
    <p>Again, there is some bookkeeping code that you would do at the application level in terms of tracking how many players above or below to show and taking into account offsets.</p>
  </li>
  <li>
    <p>The data that you store for a given player could be richer than just the player name or player ID. This is probably a larger design consideration if you are considering the "Around Me" leaderboard situation.</p>
  </li>
</ul>

<p>{% gist 762065 %}</p>

<p><strong>UPDATE: 1/3/2011:</strong> I updated the gist to do the "Around Me" leaderboard in 2 calls.</p>

<p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p>
</div></div></div></section><aside id="sidebar"><div class="block" id="block-archive"><h2>Blog archives</h2><h3>2014</h3><ul><li><a href="/blog/2014/01/">January 2014</a></li></ul><h3>2013</h3><ul><li><a href="/blog/2013/11/">November 2013</a></li><li><a href="/blog/2013/10/">October 2013</a></li><li><a href="/blog/2013/09/">September 2013</a></li><li><a href="/blog/2013/08/">August 2013</a></li><li><a href="/blog/2013/07/">July 2013</a></li><li><a href="/blog/2013/06/">June 2013</a></li><li><a href="/blog/2013/05/">May 2013</a></li><li><a href="/blog/2013/04/">April 2013</a></li><li><a href="/blog/2013/03/">March 2013</a></li><li><a href="/blog/2013/02/">February 2013</a></li><li><a href="/blog/2013/01/">January 2013</a></li></ul><h3>2012</h3><ul><li><a href="/blog/2012/12/">December 2012</a></li><li><a href="/blog/2012/11/">November 2012</a></li><li><a href="/blog/2012/10/">October 2012</a></li><li><a href="/blog/2012/09/">September 2012</a></li><li><a href="/blog/2012/08/">August 2012</a></li><li><a href="/blog/2012/07/">July 2012</a></li><li><a href="/blog/2012/06/">June 2012</a></li><li><a href="/blog/2012/05/">May 2012</a></li><li><a href="/blog/2012/04/">April 2012</a></li><li><a href="/blog/2012/03/">March 2012</a></li><li><a href="/blog/2012/02/">February 2012</a></li><li><a href="/blog/2012/01/">January 2012</a></li></ul><h3>2011</h3><ul><li><a href="/blog/2011/10/">October 2011</a></li><li><a href="/blog/2011/09/">September 2011</a></li><li><a href="/blog/2011/08/">August 2011</a></li><li><a href="/blog/2011/07/">July 2011</a></li><li><a href="/blog/2011/06/">June 2011</a></li><li><a href="/blog/2011/05/">May 2011</a></li><li><a href="/blog/2011/04/">April 2011</a></li><li><a href="/blog/2011/03/">March 2011</a></li><li><a href="/blog/2011/02/">February 2011</a></li><li><a href="/blog/2011/01/">January 2011</a></li></ul><h3>2010</h3><ul><li><a href="/blog/2010/12/">December 2010</a></li><li><a href="/blog/2010/11/">November 2010</a></li><li><a href="/blog/2010/10/">October 2010</a></li><li><a href="/blog/2010/09/">September 2010</a></li><li><a href="/blog/2010/08/">August 2010</a></li><li><a href="/blog/2010/07/">July 2010</a></li><li><a href="/blog/2010/06/">June 2010</a></li><li><a href="/blog/2010/05/">May 2010</a></li><li><a href="/blog/2010/04/">April 2010</a></li><li><a href="/blog/2010/03/">March 2010</a></li><li><a href="/blog/2010/02/">February 2010</a></li><li><a href="/blog/2010/01/">January 2010</a></li></ul><h3>2009</h3><ul><li><a href="/blog/2009/12/">December 2009</a></li><li><a href="/blog/2009/11/">November 2009</a></li><li><a href="/blog/2009/10/">October 2009</a></li><li><a href="/blog/2009/09/">September 2009</a></li><li><a href="/blog/2009/08/">August 2009</a></li><li><a href="/blog/2009/07/">July 2009</a></li><li><a href="/blog/2009/06/">June 2009</a></li><li><a href="/blog/2009/05/">May 2009</a></li><li><a href="/blog/2009/04/">April 2009</a></li><li><a href="/blog/2009/03/">March 2009</a></li><li><a href="/blog/2009/02/">February 2009</a></li><li><a href="/blog/2009/01/">January 2009</a></li></ul><h3>2008</h3><ul><li><a href="/blog/2008/11/">November 2008</a></li><li><a href="/blog/2008/10/">October 2008</a></li><li><a href="/blog/2008/09/">September 2008</a></li><li><a href="/blog/2008/08/">August 2008</a></li></ul></div></aside></article></div></div></div><footer><div class="outer-wrap"><div class="wrap"><div id="copyright"><img alt="Agora Games" src="/assets/images/agora-logo-agga-5548a56c.png"> <a href="http://majorleaguegaming.com" target="_blank"><img alt="Major League Gaming" src="/assets/images/mlg-logo-70241e5b.png"></a><a href="mailto:info@agoragames.com" id="email-us">Email Us</a><p>359 Broadway, Third Floor, Troy, NY 12180</p><p class="dim">&copy; 2013 Agora Games. All Rights Reserved.</p></div></div></div></footer><div class="hide"><iframe id="wufoo-iframe" src="javascript:void(0)"></iframe><a id="wufoo-thanks" href="/thanks/"></a></div><!--[if lt IE 9]>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<!--<![endif]-->
<script>
  if (!window.jQuery) {
    document.write('<script type="text/javascript" src="/assets/javascripts/vendor/jquery.min-199fc76d.js"><' + '/script>');
  }
</script>
<script src="/assets/javascripts/all-7e4f2f03.js" type="text/javascript"></script></body></html>