<!DOCTYPE html> <html class=no-js lang=en> <head> <meta charset=utf-8> <meta content='width=device-width, initial-scale=1.0' name=viewport> <meta content='IE=edge,chrome=1' http-equiv=X-UA-Compatible> <title>Brain Matters</title> <link href="/assets/stylesheets/app-0c494247.css" rel=stylesheet /> <script src="/assets/javascripts/modernizr-84a49412.js"></script> <link href='/assets/images/favicon.ico' rel='shortcut icon'> </head> <body class='blog blog_2010 blog_2010_index f-topbar-fixed'> <div class='fixed raised'> <nav class=top-bar data-topbar role=navigation> <ul class=title-area> <li class=name> <h1> <a href='/'> <img alt="Agora Games" class=main-logo src="/assets/images/agoragames-new-8534f601.svg"/> </a> </h1> </li> <li class='toggle-topbar menu-icon'> <a href='javascript:void(0)'> <span>Menu</span> </a> </li> </ul> <section class=top-bar-section> <ul class=right> <li> <a data-anchor href='/#about'>About</a> </li> <li> <a data-anchor href='/#team'>Team</a> </li> <li> <a data-anchor href='/#contact'>Contact</a> </li> <li> <a href='/careers'>Careers</a> </li> <li> <a href='/blog'>Blog</a> </li> <li class=hydra-theme> <a href='http://hydra.agoragames.com'> <img alt=Hydra width=92 src="/assets/images/hydra-wordmark-6248cf07.svg"/> </a> </li> </ul> </section> </nav> </div> <div class=row> <div class=columns> <h1 class=blog-page-title> <a href="/blog">The <strong>Blog</strong> </a></h1> </div> </div> <div class=row> <div class='columns large-9'> <div class=blog-page-subtitle> <h2>Posts from 2010 </h2> </div> <div class=blog-entry-list><div class=blog-entry> <div class=blog__date> Dec 10 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/12/10/captcha-failed-or-how-i-patched-ruby-recaptcha-in-5-minutes-for-success/">CAPTCHA failed or How I Patched ruby-recaptcha In 5 Minutes For Success</a> </h2> <div class=blog__author> By <strong>David Czarnecki</strong> </div> <div class=blog__body> <p>We are using the <a href="http://bitbucket.org/mml/ruby-recaptcha/wiki/Home">ruby-recaptcha</a> library here at Agora Games. I got a bug from our QA department that they wanted the CAPTCHA failure message to change from &lsquo;Captcha failed.&rsquo; to &lsquo;CAPTCHA failed.&rsquo;.</p> <p>I love that the Ruby and Rails community is so test-focused. I looked at the ruby-recaptcha issue tracker and there was already a patch for adding in customizable message support. However, with the patch, none of the tests passed. It was well within the library author&rsquo;s rights to give that patch the middle finger.</p> <p>So, what did I do? I applied the patch to my local copy of the ruby-repatcha library, fixed the tests, and <a href="http://bitbucket.org/mml/ruby-recaptcha/issue/2/make-the-error-message-customizable#comment-313094">submitted an updated patch</a>.</p> <p>Success.</p> <p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p> <p><img title=happy-ruby src="http://static.rubyrags.com/pictures/1/ruby_makes_me_happy.png"/></p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Dec 9 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/12/09/hello-there/">Hello there...</a> </h2> <div class=blog__author> By <strong>Steven Davidovitz</strong> </div> <div class=blog__body> <p>I&rsquo;m Steven. I hail from the suburbs of Boston and I&rsquo;m currently a 3rd year student at the Rochester Institute of Technology where we are required to do a minimum of 12 months of full time co-op before graduation.Â Agora Games is my 3rd and final co-op experience and I&rsquo;m very excited to be working here!</p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Dec 9 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/12/09/lightweight-concurrency-with-ruby-and-eventmachine/">Lightweight concurrency with Ruby and Eventmachine</a> </h2> <div class=blog__author> By <strong>Steven Davidovitz</strong> </div> <div class=blog__body> <p><a title=Eventmachine href="http://rubyeventmachine.com">Eventmachine</a> describes itself as a &ldquo;fast, simple event-processing library for Ruby programs.&rdquo; Included in it is a module called Deferrable that allows easy and lightweight concurrency. Deferrable makes it simple to spawn a blocking or long running operation, push it to the background, and on completion execute any number of code blocks (callbacks).</p> <p>Below, I&rsquo;ve written a sample application that uses the Deferrable class and Eventmachine&rsquo;s event loop to parallelize HTTP API calls to <a title="whoismyrepresentative.com" href="http://whoismyrepresentative.com">whoismyrepresentative.com</a>.</p> <p>{% gist 734988 %}</p> <p>As each request is created it placed in a pool with all other requests which are then spawned and executed after a call to Request.run. As the GET calls come back they are checked for an error message and based upon that the appropriate callbacks attached at the creation of the request are called. In this case, if the call succeeds each representative for that zip code is printed out along with a phone number. If it fails, the error message is printed. As the output below shows, the calls are done completely in parallel and immediately after they return the callbacks are executed.</p> <p>{% gist 734989 %}</p> <p>As the number of requests increases, so does the performance benefit of using this model. Example timings for 25 requests done serially and in parallel are below.</p> <p>{% gist 735018 %}</p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Dec 2 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/12/02/my-freedom-patch-gem-constant-redefinition/">My "Freedom Patch" Gem: constant-redefinition</a> </h2> <div class=blog__author> By <strong>David Czarnecki</strong> </div> <div class=blog__body> <p>The <a href="https://rubygems.org/gems/constant-redefinition">constant-redefinition gem</a> allows you to define constants if not defined on an object and redefine constants without warning.</p> <p>Are you still with me? Good.</p> <p>The code &ldquo;credit&rdquo; for this gem comes from the Stack Overflow post, <a href="http://stackoverflow.com/questions/3375360/how-to-redefine-a-ruby-constant-without-warning">&ldquo;How to redefine a Ruby constant without warning?&rdquo;</a>. It just so happens that I was working on a project today where our test suite was testing a large number of iterations to write out data. I wanted to redefine the number of iterations in test (based on a constant in the model) to respect the spirit of the test, but not do as many iterations in test. I googled, found that post, and it seemed like a neatly packageable item that would be useful to other developers.</p> <p>So, I created the <a href="https://rubygems.org/gems/constant-redefinition">constant-redefinition gem</a>. You can also check out the <a href="https://github.com/czarneckid/constant-redefinition">GitHub constant-redefinition project</a>. My contribution was merely packaging it up as a gem, formalizing the tests, and making the method names longer (sue me, I prefer readability).</p> <p>The project page has a good overview of using the two methods, but I&rsquo;ll reproduce it here.</p> <p>{% gist 726069 %}</p> <p>You may know &ldquo;freedom patch&rdquo; by its other names, &ldquo;monkey patch&rdquo; or &ldquo;duck punch&rdquo;.</p> <p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Nov 30 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/11/30/to-version-or-not-to-version-your-gems-in-gemfiles/">To Version or Not To Version Your Gems in Gemfiles</a> </h2> <div class=blog__author> By <strong>David Czarnecki</strong> </div> <div class=blog__body> <p>I don&rsquo;t like moving targets. I&rsquo;m a software developer, not a sharpshooter. So why don&rsquo;t more people version all of their gems in a Gemfile?</p> <p>Here is a sample Gemfile for a Rails 3 application I was looking at yesterday.</p> <p>{% gist 721842 %}</p> <p>The gems for Rails and thin have been versioned. Why aren&rsquo;t the gems for will_paginate, nokogiri, and haml versioned? I consider un-versioned gems moving targets. Why? You&rsquo;re going to get the latest version of a gem. The developer doesn&rsquo;t know (or necessarily care) you depend on XXX functionality in version 1.0.23 of their gem. And so what if in version 2.0.0 of their gem, they make incompatible changes that break your application? I consider versioned gems a virtual &ldquo;stake in the ground&rdquo;. To the best of my abilities, with rigorous testing of course, I know that given these specific versions of gems, my application performs as expected.</p> <p>What&rsquo;s your opinion?</p> <p><strong>UPDATE:</strong></p> <p>Good point from my co-worker, Blake, who says that bundle will install the lastest version of a gem and then lock the version in your Gemfile.lock file on the first go-round. It could still be an issue if you do a &ldquo;bundle update&rdquo; locally or in your deployment process.</p> <p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Nov 30 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/11/30/a-better-way-to-avoid-a-project-named-server/">A Better Way to Avoid a Project Named Server</a> </h2> <div class=blog__author> By <strong>Blake Taylor</strong> </div> <div class=blog__body> <p>Yesterday I posted about how I avoided creating the annoying rails server projects when accidently running rails server under a rails 2 application. I wanted to follow up with a much more concise script that accomplishes the same ends through different means. Using this script requires no changes to how you start the development server and, even cooler perhaps, allows you to start the rails 2 server as if you were in a rails 3 project. Shout out goes to Intern Mike for the assist.</p> <p>{% gist 722473 %}</p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Nov 29 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/11/29/moving-to-rails-3-pain-point-rails-server/">Moving to Rails 3 Pain Point: rails server</a> </h2> <div class=blog__author> By <strong>David Czarnecki</strong> </div> <div class=blog__body> <p><strong>Update:</strong> <em>I have posted a <a href="http://blog.agoragames.com/2010/11/30/a-better-way-to-avoid-a-project-named-server/">better solution</a>!</em></p> <p>Working with rails 2 and 3 projects back and forth, day to day has been pretty painless thanks to <a href="http://rvm.beginrescueend.com/">rvm</a> and <a href="http://rvm.beginrescueend.com/workflow/rvmrc/">.rvmrc files</a>. That is with the exception ofÂ accidentallyÂ running <code>rails server</code> on a rails 2 project.Â I do this all the time and it results in generating a new rails project called server rather then starting the rails server, my actual intention. It&rsquo;s almost asÂ frustratingÂ when running <code>script/server</code> on a rails 3 project but at least it doesn&rsquo;t spit out a bunch of useless files.Â Incidentally, all of the built in rails command (i.e. generate, console, &hellip;) set the same trap. To avoid falling prey, I have created a bunch of shell functions which I would like to share with everyone in case they would like to be privyÂ as well.</p> <p>The shell code is included in the gist below. I load these functions into my .bashrc file (actually my .zshrc file). Once they are are available just get in the habit of running <code>rails-server</code> or <code>rails-generate</code> or <code>rails-whatever</code> and the correct command will always be issued. Also, if anyone knows a better solution, do share!</p> <p>As one final note, I run <code>rails-server</code> so often that I have is aliased to <code>s</code> . If you would like to do the same add <code>alias s=rails-server</code> to your .bashrc file.</p> <p>{% gist 720619 %}</p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Nov 24 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/11/24/interactive-git-stash-for-stashing-single-or-multiple-files/">Interactive Git Stash For Stashing Single or Multiple Files</a> </h2> <div class=blog__author> By <strong>David Czarnecki</strong> </div> <div class=blog__body> <p><strong>TL;DR</strong> git stash save &ndash;patch</p> <p>From the git docs, &ldquo;With &ndash;patch, you can interactively select hunks from in the diff between HEAD and the working tree to be stashed.&rdquo;</p> <p>This past week, I came across a situation where I wanted to stash a couple of working files in a git repository, pull in some changes, and then apply the stash. However, I couldn&rsquo;t immediately see the forest for the trees or some other stupid metaphor. Basically it was just a case where I had to RTFM for git stash. In the gist below, I go through a simple example of stashing 2 out of 3 files, making some changes to the repository, and then applying the changes of the 2 stashed files.</p> <p>{% gist 714660 %}</p> <p>I hope you found this example useful. I know that it&rsquo;s some git-fu I&rsquo;ll be using more often.</p> <p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Nov 23 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/11/23/haloreachapi-new/">Halo::Reach::API.new</a> </h2> <div class=blog__author> By <strong>David Czarnecki</strong> </div> <div class=blog__body> <p>If you&rsquo;ve ever wanted to access your Halo:Reach statistics from Ruby, you can now using the <a href="https://rubygems.org/gems/halo-reach-api">Halo:Reach Ruby gem</a>.</p> <p>The API methods should be pretty self-explanatory and you can check out the <a href="http://rubydoc.info/gems/halo-reach-api/1.0.0/frames">gem&rsquo;s RDoc online</a> or look at the <a href="http://www.haloreachapi.net/wiki/Available_methods">unofficial API method documentation</a> for more information. Maybe the one caveat to getting involved in the project or using the API in general is that you need a Bungie Pro account to generate an API key. This will cost you 750 MS points per year. An 800 MS point pack will cost you $10.</p> <p>You can also get involved in the development of the API over on the <a href="https://github.com/agoragames/halo-reach-api">Halo:Reach Ruby API GitHub project</a>.</p> <p>You can find more hilarity over on my Twitter account, <a href="http://twitter.com/czarneckid">CzarneckiD</a>.</p> </div> </div> </div> <div class=blog-entry> <div class=blog__date> Nov 23 </div> <div class=blog__contents> <h2 class=blog__title> <a href="/blog/2010/11/23/agora-games-major-league-gaming-participate-in-the-webs-first-multicast-transmission/">Agora Games & Major League Gaming participate in the web's first multicast transmission</a> </h2> <div class=blog__author> By <strong>David Czarnecki</strong> </div> <div class=blog__body> <p>When you send a unicast message it gets routed within a network to a single destination. Â Unlike unicast messages, multicast messages get delivered to every node within a network. Â If not properly controlled however you can experience routing loops which, like feedback between a microphone and a speaker, cause what networking techs call &ldquo;multicast storms&rdquo;. Â Because of this many corporate networks block multicast messages from ever leaving a single broadcast domain. Â For the same reason, multicast messages are blocked by all Internet Service Providers at the network&rsquo;s edge.</p> <p>Apparently it was just a matter of time until someone with a big enough backbone started letting them through.</p> <p>On November 12, 2010 during Major League Gaming&rsquo;s National Finals in Dallas we working with AT&amp;T and Octoshape to deliver the first open-web multicast video stream. Â Who doesn&rsquo;t love the bleeding edge?</p> <p>Check out the details here:</p> <p><a href="http://www.attinnovationspace.com/2010/11/23/first-ever-open-web-multicast-event/#more-523">http://www.attinnovationspace.com/2010/11/23/first-ever-open-web-multicast-event/#more-523</a></p> <p>More musings can be found on my Twitter account, <a href="http://www.twitter.com/genexp">genexp</a></p> </div> </div> </div> </div> <div class=blog-pagination> <ul class=inline-list> <li> <a href="/blog/2010/page/2/">Â« Older entries </a></li> <li>Page 1 of 6</li> </ul> </div> </div> <div class='columns large-3'> <div class=blog-archives-sidebar> <h2>Blog archives</h2> <h3> <a href="/blog/2015/">2015</a> </h3> <ul> <li> <a href="/blog/2015/10/">October 2015</a> </li> <li> <a href="/blog/2015/03/">March 2015</a> </li> <li> <a href="/blog/2015/01/">January 2015</a> </li> </ul> <h3> <a href="/blog/2014/">2014</a> </h3> <ul> <li> <a href="/blog/2014/12/">December 2014</a> </li> <li> <a href="/blog/2014/11/">November 2014</a> </li> <li> <a href="/blog/2014/10/">October 2014</a> </li> <li> <a href="/blog/2014/08/">August 2014</a> </li> <li> <a href="/blog/2014/07/">July 2014</a> </li> <li> <a href="/blog/2014/06/">June 2014</a> </li> <li> <a href="/blog/2014/04/">April 2014</a> </li> <li> <a href="/blog/2014/03/">March 2014</a> </li> <li> <a href="/blog/2014/02/">February 2014</a> </li> <li> <a href="/blog/2014/01/">January 2014</a> </li> </ul> <h3> <a href="/blog/2013/">2013</a> </h3> <ul> <li> <a href="/blog/2013/11/">November 2013</a> </li> <li> <a href="/blog/2013/10/">October 2013</a> </li> <li> <a href="/blog/2013/09/">September 2013</a> </li> <li> <a href="/blog/2013/08/">August 2013</a> </li> <li> <a href="/blog/2013/07/">July 2013</a> </li> <li> <a href="/blog/2013/06/">June 2013</a> </li> <li> <a href="/blog/2013/05/">May 2013</a> </li> <li> <a href="/blog/2013/04/">April 2013</a> </li> <li> <a href="/blog/2013/03/">March 2013</a> </li> <li> <a href="/blog/2013/02/">February 2013</a> </li> <li> <a href="/blog/2013/01/">January 2013</a> </li> </ul> <h3> <a href="/blog/2012/">2012</a> </h3> <ul> <li> <a href="/blog/2012/12/">December 2012</a> </li> <li> <a href="/blog/2012/11/">November 2012</a> </li> <li> <a href="/blog/2012/10/">October 2012</a> </li> <li> <a href="/blog/2012/09/">September 2012</a> </li> <li> <a href="/blog/2012/08/">August 2012</a> </li> <li> <a href="/blog/2012/07/">July 2012</a> </li> <li> <a href="/blog/2012/06/">June 2012</a> </li> <li> <a href="/blog/2012/05/">May 2012</a> </li> <li> <a href="/blog/2012/04/">April 2012</a> </li> <li> <a href="/blog/2012/03/">March 2012</a> </li> <li> <a href="/blog/2012/02/">February 2012</a> </li> <li> <a href="/blog/2012/01/">January 2012</a> </li> </ul> <h3> <a href="/blog/2011/">2011</a> </h3> <ul> <li> <a href="/blog/2011/10/">October 2011</a> </li> <li> <a href="/blog/2011/09/">September 2011</a> </li> <li> <a href="/blog/2011/08/">August 2011</a> </li> <li> <a href="/blog/2011/07/">July 2011</a> </li> <li> <a href="/blog/2011/06/">June 2011</a> </li> <li> <a href="/blog/2011/05/">May 2011</a> </li> <li> <a href="/blog/2011/04/">April 2011</a> </li> <li> <a href="/blog/2011/03/">March 2011</a> </li> <li> <a href="/blog/2011/02/">February 2011</a> </li> <li> <a href="/blog/2011/01/">January 2011</a> </li> </ul> <h3> <a href="/blog/2010/">2010</a> </h3> <ul> <li> <a href="/blog/2010/12/">December 2010</a> </li> <li> <a href="/blog/2010/11/">November 2010</a> </li> <li> <a href="/blog/2010/10/">October 2010</a> </li> <li> <a href="/blog/2010/09/">September 2010</a> </li> <li> <a href="/blog/2010/08/">August 2010</a> </li> <li> <a href="/blog/2010/07/">July 2010</a> </li> <li> <a href="/blog/2010/06/">June 2010</a> </li> <li> <a href="/blog/2010/05/">May 2010</a> </li> <li> <a href="/blog/2010/04/">April 2010</a> </li> <li> <a href="/blog/2010/03/">March 2010</a> </li> <li> <a href="/blog/2010/02/">February 2010</a> </li> <li> <a href="/blog/2010/01/">January 2010</a> </li> </ul> <h3> <a href="/blog/2009/">2009</a> </h3> <ul> <li> <a href="/blog/2009/12/">December 2009</a> </li> <li> <a href="/blog/2009/11/">November 2009</a> </li> <li> <a href="/blog/2009/10/">October 2009</a> </li> <li> <a href="/blog/2009/09/">September 2009</a> </li> <li> <a href="/blog/2009/08/">August 2009</a> </li> <li> <a href="/blog/2009/07/">July 2009</a> </li> <li> <a href="/blog/2009/06/">June 2009</a> </li> <li> <a href="/blog/2009/05/">May 2009</a> </li> <li> <a href="/blog/2009/04/">April 2009</a> </li> <li> <a href="/blog/2009/03/">March 2009</a> </li> <li> <a href="/blog/2009/02/">February 2009</a> </li> <li> <a href="/blog/2009/01/">January 2009</a> </li> </ul> <h3> <a href="/blog/2008/">2008</a> </h3> <ul> <li> <a href="/blog/2008/11/">November 2008</a> </li> <li> <a href="/blog/2008/10/">October 2008</a> </li> <li> <a href="/blog/2008/09/">September 2008</a> </li> <li> <a href="/blog/2008/08/">August 2008</a> </li> </ul> </div> </div> </div> <script src="/assets/javascripts/app-8d34dc05.js" async=true></script> </body> </html>