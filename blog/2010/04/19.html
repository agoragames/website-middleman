<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta content="width=device-width" name="viewport"><title>Packaging For Pleasure</title><link href="../../../assets/images/favicon.ico" rel="shortcut icon"><link href="../../../assets/stylesheets/all-dc5d1bf2.css" media="all" rel="stylesheet" type="text/css" /><!--[if lt IE 9]><script src="../../../assets/javascripts/vendor/html5shiv-8b3747c5.js" type="text/javascript"></script><![endif]--></head><body><div class="outer-wrap"><div class="inner-wrap"><div class="wrap"><header class="clearfix" id="page"><a href="/"><img alt="Agora Games" id="logo" src="../../../assets/images/agora-games-logo-e99b2824.png"></a><nav><ul><li><a href="https://hydra.agoragames.com/">Products</a></li><li><a href="../../../portfolio.html">Customers</a></li><li><a href="../../../us.html">Team</a></li><li><a href="../../../community.html">Community</a></li><li><a href="../../../work-at-agora.html">Jobs</a></li><li><a href="../../">Blog</a></li></ul></nav></header></div><div class="wrap"><article class="clearfix"><header><h1>April 19, 2010</h1></header><section id="blog-entries"><div class="blog-entry"><div class="date-comments"><div class="date">Apr 19</div></div><div class="blog-content"><h2><a href="../../2010-04-19-packaging-for-pleasure.html">Packaging For Pleasure</a></h2><div class="blog-author">By <strong>David Czarnecki</strong></div><div class="blog-body"><p>Let me be more explicit and say I'm going to be talking about Rails application packaging. Sorry, I needed a good post title for the lulz and the page views.</p>

<p>There are a few rake tasks that I've been using more and more now that all of our applications are running in a shared, virtual enviroment. They are:</p>

<ul>
  <li>rake -T     # -T, –tasks [PATTERN]            Display the tasks (matching optional PATTERN) with descriptions, then exit.</li>
</ul>

<p>Everyone should know and use this task at least once in their Rails-development life.</p>

<ul>
  <li>rake rails:freeze:gems   # Lock this application to the current gems (by unpacking them into vendor/rails)</li>
  <li>rake gems:unpack   # Unpacks all required gems into vendor/gems.</li>
  <li>rake gems:unpack:dependencies   # Unpacks all required gems and their dependencies into vendor/gems.</li>
</ul>

<p>So, once I've created my project with "rails [project name]", then next thing I do is "rake rails:freeze:gems" to freeze the Rails gems. I'll enumerate the application's dependencies in the environment.rb file and then run "rake gems:unpack" to make sure those dependencies exist with the application. Example:</p>

<p><code>ruby
config.gem 'will_paginate', :version =&gt; '2.3.11', :source =&gt; 'http://gemcutter.org'
config.gem 'factory_girl', :version =&gt; '1.2.4', :source =&gt; 'http://gemcutter.org'
config.gem 'fakeweb', :version =&gt; '1.2.8', :source =&gt; 'http://gemcutter.org'
</code></p>

<p>Why do I like this approach? In a shared environment, it means we don't have to have our systems folks install any dependencies for our application to run making the application self-contained. This is mostly fine for gems that don't have an explicit native component. Also, in being explicit about versions of the gems that an application is using, we do not run the risk of chasing a moving target. Again, in a shared environment, if someone updates a gem on the system, it's probably not an issue until the one time it is and you're being called at 3 AM that the application is down because of a gem incompatibility change.</p>

<p>That's it. Any other packaging dos and don't?</p>
</div></div></div></section><aside id="sidebar"><div class="block" id="block-archive"><h2>Blog archives</h2><h3>2013</h3><ul><li><a href="../../2013/11.html">November 2013</a></li><li><a href="../../2013/10.html">October 2013</a></li><li><a href="../../2013/09.html">September 2013</a></li><li><a href="../../2013/08.html">August 2013</a></li><li><a href="../../2013/07.html">July 2013</a></li><li><a href="../../2013/06.html">June 2013</a></li><li><a href="../../2013/05.html">May 2013</a></li><li><a href="../../2013/04.html">April 2013</a></li><li><a href="../../2013/03.html">March 2013</a></li><li><a href="../../2013/02.html">February 2013</a></li><li><a href="../../2013/01.html">January 2013</a></li></ul><h3>2012</h3><ul><li><a href="../../2012/12.html">December 2012</a></li><li><a href="../../2012/11.html">November 2012</a></li><li><a href="../../2012/10.html">October 2012</a></li><li><a href="../../2012/09.html">September 2012</a></li><li><a href="../../2012/08.html">August 2012</a></li><li><a href="../../2012/07.html">July 2012</a></li><li><a href="../../2012/06.html">June 2012</a></li><li><a href="../../2012/05.html">May 2012</a></li><li><a href="../../2012/04.html">April 2012</a></li><li><a href="../../2012/03.html">March 2012</a></li><li><a href="../../2012/02.html">February 2012</a></li><li><a href="../../2012/01.html">January 2012</a></li></ul><h3>2011</h3><ul><li><a href="../../2011/10.html">October 2011</a></li><li><a href="../../2011/09.html">September 2011</a></li><li><a href="../../2011/08.html">August 2011</a></li><li><a href="../../2011/07.html">July 2011</a></li><li><a href="../../2011/06.html">June 2011</a></li><li><a href="../../2011/05.html">May 2011</a></li><li><a href="../../2011/04.html">April 2011</a></li><li><a href="../../2011/03.html">March 2011</a></li><li><a href="../../2011/02.html">February 2011</a></li><li><a href="../../2011/01.html">January 2011</a></li></ul><h3>2010</h3><ul><li><a href="../12.html">December 2010</a></li><li><a href="../11.html">November 2010</a></li><li><a href="../10.html">October 2010</a></li><li><a href="../09.html">September 2010</a></li><li><a href="../08.html">August 2010</a></li><li><a href="../07.html">July 2010</a></li><li><a href="../06.html">June 2010</a></li><li><a href="../05.html">May 2010</a></li><li><a href="../04.html">April 2010</a></li><li><a href="../03.html">March 2010</a></li><li><a href="../02.html">February 2010</a></li><li><a href="../01.html">January 2010</a></li></ul><h3>2009</h3><ul><li><a href="../../2009/12.html">December 2009</a></li><li><a href="../../2009/11.html">November 2009</a></li><li><a href="../../2009/10.html">October 2009</a></li><li><a href="../../2009/09.html">September 2009</a></li><li><a href="../../2009/08.html">August 2009</a></li><li><a href="../../2009/07.html">July 2009</a></li><li><a href="../../2009/06.html">June 2009</a></li><li><a href="../../2009/05.html">May 2009</a></li><li><a href="../../2009/04.html">April 2009</a></li><li><a href="../../2009/03.html">March 2009</a></li><li><a href="../../2009/02.html">February 2009</a></li><li><a href="../../2009/01.html">January 2009</a></li></ul><h3>2008</h3><ul><li><a href="../../2008/11.html">November 2008</a></li><li><a href="../../2008/10.html">October 2008</a></li><li><a href="../../2008/09.html">September 2008</a></li><li><a href="../../2008/08.html">August 2008</a></li></ul></div></aside></article></div></div></div><footer><div class="outer-wrap"><div class="wrap"><div id="copyright"><img alt="Agora Games" src="../../../assets/images/agora-logo-agga-7c1d9a1f.png"> <a href="http://majorleaguegaming.com" target="_blank"><img alt="Major League Gaming" src="../../../assets/images/mlg-logo-28545055.png"></a><a href="mailto:info@agoragames.com" id="email-us">Email Us</a><p>359 Broadway, Third Floor, Troy, NY 12180</p><p class="dim">&copy; 2013 Agora Games. All Rights Reserved.</p></div></div></div></footer><div class="hide"><iframe id="wufoo-iframe" src="javascript:void(0)"></iframe><a id="wufoo-thanks" href="../../../thanks.html"></a></div><!--[if lt IE 9]>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<!--<![endif]-->
<script>
  if (!window.jQuery) {
    document.write('<script type="text/javascript" src="../../../assets/javascripts/vendor/jquery.min-199fc76d.js"><' + '/script>');
  }
</script>
<script src="../../../assets/javascripts/all-426906ea.js" type="text/javascript"></script></body></html>