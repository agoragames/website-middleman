!function(e){e.fn.slides=function(t){return t=e.extend({},e.fn.slides.option,t),this.each(function(){function n(n,i,a){if(!s&&r){switch(s=!0,t.animationStart(E+1),n){case"next":C=E,x=E+1,x=m===x?0:x,u=2*g,n=2*-g,E=x;break;case"prev":C=E,x=E-1,x=-1===x?m-1:x,u=0,n=0,E=x;break;case"pagination":x=parseInt(a,10),C=e("."+t.paginationClass+" li."+t.currentClass+" a",h).attr("href").match("[^#/]+$"),x>C?(u=2*g,n=2*-g):(u=0,n=0),E=x}"fade"===i?t.crossfade?f.children(":eq("+x+")",h).css({zIndex:10}).fadeIn(t.fadeSpeed,t.fadeEasing,function(){t.autoHeight?f.animate({height:f.children(":eq("+x+")",h).outerHeight()},t.autoHeightSpeed,function(){f.children(":eq("+C+")",h).css({display:"none",zIndex:0}),f.children(":eq("+x+")",h).css({zIndex:0}),t.animationComplete(x+1),s=!1}):(f.children(":eq("+C+")",h).css({display:"none",zIndex:0}),f.children(":eq("+x+")",h).css({zIndex:0}),t.animationComplete(x+1),s=!1)}):f.children(":eq("+C+")",h).fadeOut(t.fadeSpeed,t.fadeEasing,function(){t.autoHeight?f.animate({height:f.children(":eq("+x+")",h).outerHeight()},t.autoHeightSpeed,function(){f.children(":eq("+x+")",h).fadeIn(t.fadeSpeed,t.fadeEasing)}):f.children(":eq("+x+")",h).fadeIn(t.fadeSpeed,t.fadeEasing,function(){e.browser.msie&&e(this).get(0).style.removeAttribute("filter")}),t.animationComplete(x+1),s=!1}):(f.children(":eq("+x+")").css({left:u,display:"block"}),t.autoHeight?f.animate({left:n,height:f.children(":eq("+x+")").outerHeight()},t.slideSpeed,t.slideEasing,function(){f.css({left:-g}),f.children(":eq("+x+")").css({left:g,zIndex:5}),f.children(":eq("+C+")").css({left:g,display:"none",zIndex:0}),t.animationComplete(x+1),s=!1}):f.animate({left:n},t.slideSpeed,t.slideEasing,function(){f.css({left:-g}),f.children(":eq("+x+")").css({left:g,zIndex:5}),f.children(":eq("+C+")").css({left:g,display:"none",zIndex:0}),t.animationComplete(x+1),s=!1})),t.pagination&&(e("."+t.paginationClass+" li."+t.currentClass,h).removeClass(t.currentClass),e("."+t.paginationClass+" li:eq("+x+")",h).addClass(t.currentClass))}}function i(){clearInterval(h.data("interval"))}function a(){t.pause?(clearTimeout(h.data("pause")),clearInterval(h.data("interval")),d=setTimeout(function(){clearTimeout(h.data("pause")),c=setInterval(function(){n("next",v)},t.play),h.data("interval",c)},t.pause),h.data("pause",d)):i()}e("."+t.container,e(this)).children().wrapAll('<div class="slides_control"/>');var r,s,o,u,l,d,c,h=e(this),f=e(".slides_control",h),m=f.children().size(),g=f.children().outerWidth(),p=f.children().outerHeight(),F=t.start-1,v=t.effect.indexOf(",")<0?t.effect:t.effect.replace(" ","").split(",")[0],b=t.effect.indexOf(",")<0?v:t.effect.replace(" ","").split(",")[1],x=0,C=0,y=0,E=0;if(!(2>m)){if(0>F&&(F=0),F>m&&(F=m-1),t.start&&(E=F),t.randomize&&f.randomize(),e("."+t.container,h).css({overflow:"hidden",position:"relative"}),f.children().css({position:"absolute",top:0,left:f.children().outerWidth(),zIndex:0,display:"none"}),f.css({position:"relative",width:3*g,height:p,left:-g}),e("."+t.container,h).css({display:"block"}),t.autoHeight&&(f.children().css({height:"auto"}),f.animate({height:f.children(":eq("+F+")").outerHeight()},t.autoHeightSpeed)),t.preload&&f.find("img:eq("+F+")").length){e("."+t.container,h).css({background:"url("+t.preloadImage+") no-repeat 50% 50%"});var D=f.find("img:eq("+F+")").attr("src")+"?"+(new Date).getTime();l="slides_control"!=e("img",h).parent().attr("class")?f.children(":eq(0)")[0].tagName.toLowerCase():f.find("img:eq("+F+")"),f.find("img:eq("+F+")").attr("src",D).load(function(){f.find(l+":eq("+F+")").fadeIn(t.fadeSpeed,t.fadeEasing,function(){e(this).css({zIndex:5}),e("."+t.container,h).css({background:""}),r=!0,t.slidesLoaded()})})}else f.children(":eq("+F+")").fadeIn(t.fadeSpeed,t.fadeEasing,function(){r=!0,t.slidesLoaded()});t.bigTarget&&(f.children().css({cursor:"pointer"}),f.children().click(function(){return n("next",v),!1})),t.hoverPause&&t.play&&(f.bind("mouseover",function(){i()}),f.bind("mouseleave",function(){a()})),t.generateNextPrev&&(e("."+t.container,h).after('<a href="#" class="'+t.prev+'">Prev</a>'),e("."+t.prev,h).after('<a href="#" class="'+t.next+'">Next</a>')),e("."+t.next,h).click(function(e){e.preventDefault(),t.play&&a(),n("next",v)}),e("."+t.prev,h).click(function(e){e.preventDefault(),t.play&&a(),n("prev",v)}),t.generatePagination?(t.prependPagination?h.prepend("<ul class="+t.paginationClass+"></ul>"):h.append("<ul class="+t.paginationClass+"></ul>"),f.children().each(function(){e("."+t.paginationClass,h).append('<li><a href="#'+y+'">'+(y+1)+"</a></li>"),y++})):e("."+t.paginationClass+" li a",h).each(function(){e(this).attr("href","#"+y),y++}),e("."+t.paginationClass+" li:eq("+F+")",h).addClass(t.currentClass),e("."+t.paginationClass+" li a",h).click(function(){return t.play&&a(),o=e(this).attr("href").match("[^#/]+$"),E!=o&&n("pagination",b,o),!1}),e("a.link",h).click(function(){return t.play&&a(),o=e(this).attr("href").match("[^#/]+$")-1,E!=o&&n("pagination",b,o),!1}),t.play&&(c=setInterval(function(){n("next",v)},t.play),h.data("interval",c))}})},e.fn.slides.option={preload:!1,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},e.fn.randomize=function(t){function n(){return Math.round(Math.random())-.5}return e(this).each(function(){var a=e(this),r=a.children(),s=r.length;if(s>1){r.hide();var o=[];for(i=0;s>i;i++)o[o.length]=i;o=o.sort(n),e.each(o,function(e,n){var i=r.eq(n),s=i.clone(!0);s.show().appendTo(a),void 0!==t&&t(i,s),i.remove()})}})}}(jQuery);